
## 配列とは
配列は、数値や文字列などと同じくデータ型の1つであり、キーと値のペアからなる要素を複数管理することができます。  
変数とは違い、同じような項目の値を複数管理する場合に有効です。

イメージとしては下記画像にあるように、値を上から順に格納した**タンス**だと覚えましょう。

<img src="http://hackers.nexseed.net/images/curriculum_images/array001.png" class="img-responsive" alt="">  

* 値を一つだけでなく、複数保持することができる型
* 変数(箱)が積み重なった**タンス**
* タンス自体を配列といい、配列名を付けて管理する
* データは上から順に何個でも格納できる
* 配列のそれぞれの段には上から0,1,2,3...と番号が自動的にふられており、その数字を**key (Index)**という

## 配列の定義
配列を定義するためには、変数の定義時と同様に代入演算子を使用します。  
また、右辺の値部分にはarray()を使ってカッコ内に必要な値をカンマ区切りで記述していきます。

#### 配列定義の文法
```php
<?php
  $配列名 = array(値1, 値2, 値3, ...);
?>
```

#### トピック カンマの使いどころ
配列の定義時に関わらず、カンマを使用するのは連続する値（データ）がまだ続く場合を表現する際に使用します。
```php
<?php
  値1, 値2, 値3, 値4
  値1, 値2, 値3, 値4, // 最後にはつけない。これ以上データは続かないため
?>
```

#### トピック 定義時に使用するarray()の省略形
配列は`array()`の変わりに`[]`を使って定義することが可能。
```php
<?php
$配列名 = array(値1, 値2, 値3, ...);
$配列名 = [値1, 値2, 値3, ...]; // 上記と同じ意味を持つ定義文
?>
```

#### ▼ 練習問題1
XAMPP/htdocs/php_basic上にarray.phpファイルを作成し、次の処理を記述します。  

```php
<?php
  // 配列の定義
  $nohara_fam = array('ひろし', 'みさえ', 'しんのすけ', 'しろ');
?>
```

## 配列の使用
配列を使用する際、基本的には配列内の値をひとつずつ取り出して使います。  
複数ある配列内の値をひとつ取り出すには、上記で説明があった**key**を使用します。配列名のあとに`[]`とその中に**key**になる数字を記述します。

#### 配列からひとつの値を取り出す文法
```php
<?php
  // 文法
  $配列名[key]

  // 先程の練習問題で定義した配列から各値を取り出す
  $nohara_fam[0] // → ひろしが取り出せる
  $nohara_fam[1] // → みさえが取り出せる
  $nohara_fam[2] // → しんのすけが取り出せる
  $nohara_fam[3] // → しろが取り出せる
?>
```

上記は取り出し方の例をあげたのみなので、このまま記述してもエラーになってしまいます。  
取り出した上で、`echo`と合わせて画面に出力するなどの処理を加えます。

#### ▼ 練習問題2
array.phpファイルに、次の処理を記述します。また結果をブラウザで確認します。  
`確認URL → localhost/php_basic/array.php`

```php
<?php
  // echoと合わせて配列の値をひとつ取り出し出力
  echo $nohara_fam[0] // → ひろし
?>
```

#### トピック key (Index)について
私たち人間の世界では数を数える際、1から始めて1 2 3 4 ...と数えます。  
プログラミングではこちら注意が必要で、数を数える際 0から始めて0 1 2 3 ...となります。(コンピュータが基本2進数(0と1)で動くため)  
配列のkeyも同じく1番最初の値を取り出したい場合は0を、2番目なら1をと人間の感覚で数えるとひとつずつずれた数字で取り出すことになります。慣れれば無意識で指定が可能になりますが、最初は注意していきましょう。

#### トピック var_dump()を使って配列データを全件表示
配列の中が現在どういう状況にあるのかを確認する際、echo文を使って毎回すべて出力しながら調べるのは非効率です。  

そんなときに使いがっての良い`var_dump()`というものがあり、こちらは配列限らずさまざまデータの詳細情報を画面に出力してくれます。

##### 使用例
```
<?php
  var_dump(データ);
?>
```

##### 出力例
```
  データ型(データ数) データ
```

##### 文字列データ出力例
```php
<?php
  $var = 'CAMP';
  var_dump($var);
  // ↓ブラウザ出力結果↓
  // string(4) "CAMP"
  // 文字列型で文字数4のCAMPというデータという意味
?>
```

##### 整数データ出力例
```php
<?php
  $num = 3;
  var_dump($num);
  // ↓ブラウザ出力結果↓
  // int(3)
  // 整数型の3という意味
?>
```

##### 配列データ出力例
```php
<?php
  $nohara_mems = array('ひろし', 'しんのすけ', 'しろ');
  var_dump($nohara_mems);
  // ↓ブラウザ出力結果↓
  // array(3) {[0]=> string(9) "ひろし" [1]=> string(15) "しんのすけ" [2]=> string(6) "しろ"}
  // 配列型で要素数4の配列データという意味
?>
```

`var_dump()`を使用することで配列の中身を一度に表示できるため、中身が不明な配列データは基本`var_dump()`でチェックしましょう。




## 値の追加と上書き
配列には定義後に途中で値を追加もしくは上書きすることが可能です  
こちらも頻繁にでる文法なので、ここでおさえておきましょう。

### 値の追加
定義済み配列に値を追加する場合、下記構文を使って追加することで自動的に配列の最後へ値が追加されます。  
追加する場合は配列名の最後に`[]`をつけます。`[]`の中は空なのに注意が必要です。

<img src="http://hackers.nexseed.net/images/curriculum_images/array002.png" class="img-responsive" alt="">  

#### 配列への値の追加文法
```php
<?php
  $配列名[] = 値;
?>
```

#### ▼ 練習問題3
array.phpファイルに、次の処理を記述します。また結果をブラウザで確認します。  
`確認URL → localhost/php_basic/array.php`

```php
<?php
  // $nohara_famにひまわりという値を追加する
  $nohara_fam[] = 'ひまわり';
  echo $nohara_fam[4]; // → ひまわり
?>
```

### 値の上書き
定義済み配列の値のひとつを上書きする場合、下記構文を使って上書きしたい値の場所を指定し書き換えます。

<img src="http://hackers.nexseed.net/images/curriculum_images/array003.png" class="img-responsive" alt="">  

#### 配列への値の追加文法
```php
<?php
  // 追加文との違いは[]内に既に存在する値のkeyを指定すること
  $配列名[key] = 値;
?>
```

#### ▼ 練習問題4
array.phpファイルに、次の処理を記述します。また結果をブラウザで確認します。  
`確認URL → localhost/php_basic/array.php`

```php
<?php
  // 前回定義時のままechoするとしろが出力される
  echo $nohara_fam[3]; // → しろ

  // $nohara_famの4番目の値である「しろ」を「くろ」に上書き
  $nohara_fam[3] = 'くろ';

  echo $nohara_fam[3]; // → くろ
?>
```
